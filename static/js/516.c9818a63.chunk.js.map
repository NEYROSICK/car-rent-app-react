{"version":3,"file":"static/js/516.c9818a63.chunk.js","mappings":"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","sources":["components/catalog/advertList/advertList.styled.js","components/catalog/advertList/AdvertList.js","views/catalog/catalogPage.styled.js","components/catalog/filteredList/filteredList.styled.js","components/catalog/filteredList/FilteredList.js","views/catalog/CatalogPage.js"],"sourcesContent":["import styled from \"@emotion/styled\";\r\n\r\nexport const CardList = styled.ul`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 29px;\r\n  align-items: stretch;\r\n`;\r\n\r\nexport const BtnPagination = styled.button`\r\n  width: 210px;\r\n  height: 48px;\r\n\r\n  display: block;\r\n  margin: 0 auto;\r\n  margin-top: 50px;\r\n\r\n  font-size: 16px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  line-height: 24px;\r\n  color: var(--clr-primary);\r\n\r\n  background: transparent;\r\n  border: 2px solid var(--clr-primary);\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  transition: border-color 0.3s, color 0.3s;\r\n\r\n  &:hover {\r\n    border-color: var(--clr-brand);\r\n    color: var(--clr-brand);\r\n  }\r\n`;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAdverts, getGeneralCount, getIsLoading } from \"../../../redux/selectors\";\r\nimport Card from \"../../common/card/Card\";\r\nimport { CardList, BtnPagination } from \"./advertList.styled\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { setAdverts } from \"../../../redux/slices/advertSlice\";\r\nimport { fetchAdverts, getAdvertCount } from \"../../../redux/operations\";\r\nimport Loader from \"../../common/loader/Loader\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\n\r\nconst AdvertList = () => {\r\n  const dispatch = useDispatch();\r\n  const adverts = useSelector(getAdverts);\r\n  const isLoading = useSelector(getIsLoading);\r\n  const generalCount = useSelector(getGeneralCount);\r\n  const [searchParams] = useSearchParams();\r\n  const [page, setPage] = useState(1);\r\n  const limit = 12;\r\n\r\n  useEffect(() => {\r\n    if (!searchParams.get(\"brand\")) {\r\n      dispatch(fetchAdverts({ page, limit }));\r\n    }\r\n  }, [dispatch, page, searchParams]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getAdvertCount());\r\n\r\n    return () => {\r\n      dispatch(setAdverts([]));\r\n    };\r\n  }, [dispatch]);\r\n\r\n  const handleClick = () => {\r\n    setPage(page + 1);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!adverts.length && <Loader variant=\"initialization\" size={90} />}\r\n\r\n      {Boolean(adverts.length) && (\r\n        <CardList>\r\n          {adverts.map((advert) => (\r\n            <Card item={advert} key={advert.id} />\r\n          ))}\r\n        </CardList>\r\n      )}\r\n\r\n      {adverts.length < generalCount && !isLoading && (\r\n        <BtnPagination onClick={handleClick}>Load more</BtnPagination>\r\n      )}\r\n\r\n      {adverts.length && isLoading && <Loader variant=\"pagination\" size={90} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdvertList;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Main = styled.main`\r\n  position: relative;\r\n  min-height: calc(100vh - 93.6px);\r\n`;\r\n\r\nexport const Section = styled.section`\r\n  padding: 50px 0;\r\n`;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Message = styled.p`\r\n  min-height: calc(100vh - 440px);\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 20px;\r\n\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  line-height: 24px;\r\n  text-align: center;\r\n  color: var(--clr-favorites-message);\r\n\r\n  & > svg {\r\n    fill: currentColor;\r\n    width: 200px;\r\n    height: 200px;\r\n  }\r\n`;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAdverts, getIsLoading } from \"../../../redux/selectors\";\r\nimport Card from \"../../common/card/Card\";\r\nimport { CardList, BtnPagination } from \"../advertList/advertList.styled\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { setAdverts } from \"../../../redux/slices/advertSlice\";\r\nimport { fetchAdverts } from \"../../../redux/operations\";\r\nimport Loader from \"../../common/loader/Loader\";\r\nimport { Message } from \"./filteredList.styled\";\r\nimport IconKeys from \"../../common/icons/IconKeys\";\r\n\r\nconst FilteredList = ({ params }) => {\r\n  const LIMIT = 12;\r\n  const adverts = useSelector(getAdverts);\r\n  const isLoading = useSelector(getIsLoading);\r\n  const dispatch = useDispatch();\r\n  const [filteredAdverts, setFilteredAdverts] = useState([]);\r\n  const [limitedAdverts, setLimitedAdverts] = useState([]);\r\n  const [skip, setSkip] = useState(LIMIT);\r\n  const { brand, price, from, to } = params;\r\n  const filteredLength = filteredAdverts.length;\r\n  const limitedLength = limitedAdverts.length;\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchAdverts({}));\r\n\r\n    return () => {\r\n      dispatch(setAdverts([]));\r\n    };\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    const filterAdverts = () => {\r\n      return adverts\r\n        .filter(({ make }) => !brand || make.toLowerCase() === brand.toLowerCase())\r\n        .filter(({ rentalPrice }) => !price || rentalPrice.split(\"$\").join(\"\") <= Number(price))\r\n        .filter(({ mileage }) => !from || mileage >= Number(from))\r\n        .filter(({ mileage }) => !to || mileage <= Number(to));\r\n    };\r\n\r\n    setFilteredAdverts(filterAdverts());\r\n    setSkip(LIMIT);\r\n  }, [adverts, brand, price, from, to]);\r\n\r\n  useEffect(() => {\r\n    setLimitedAdverts(filteredAdverts.slice(0, skip));\r\n  }, [filteredAdverts, skip]);\r\n\r\n  const handleClick = () => {\r\n    setSkip(skip + LIMIT);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {Boolean(!limitedLength) && !isLoading && (\r\n        <Message>\r\n          <IconKeys />\r\n          Sorry, there are no matches for your request :(\r\n        </Message>\r\n      )}\r\n\r\n      {Boolean(limitedLength) && (\r\n        <>\r\n          <CardList>\r\n            {limitedAdverts.map((advert) => (\r\n              <Card item={advert} key={advert.id} />\r\n            ))}\r\n          </CardList>\r\n\r\n          {filteredLength > LIMIT && limitedLength < filteredLength && (\r\n            <BtnPagination onClick={handleClick}>Load more</BtnPagination>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {isLoading && <Loader variant=\"initialization\" size={90} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FilteredList;\r\n","import AdvertList from \"../../components/catalog/advertList/AdvertList\";\r\nimport Filters from \"../../components/common/filters/Filters\";\r\nimport { Main, Section } from \"./catalogPage.styled\";\r\nimport FilteredList from \"../../components/catalog/filteredList/FilteredList\";\r\nimport Container from \"../../components/common/container/Container\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\n\r\nconst CatalogPage = () => {\r\n  const [searchParams] = useSearchParams();\r\n  const params = Object.fromEntries(searchParams);\r\n  const areFiltersSet = Object.values(params).some((option) => option);\r\n\r\n  return (\r\n    <Main>\r\n      <Section>\r\n        <Container>\r\n          <h2 className=\"visually-hidden\">Car advertisement catalog</h2>\r\n          <Filters />\r\n          {!areFiltersSet ? <AdvertList /> : <FilteredList params={params} />}\r\n        </Container>\r\n      </Section>\r\n    </Main>\r\n  );\r\n};\r\n\r\nexport default CatalogPage;\r\n"],"names":["CardList","styled","ul","_templateObject","_taggedTemplateLiteral","BtnPagination","button","_templateObject2","AdvertList","dispatch","useDispatch","adverts","useSelector","getAdverts","isLoading","getIsLoading","generalCount","getGeneralCount","searchParams","useSearchParams","page","setPage","useState","useEffect","get","fetchAdverts","limit","getAdvertCount","setAdverts","_jsxs","_Fragment","children","length","_jsx","Loader","variant","size","Boolean","map","advert","Card","item","id","onClick","handleClick","Main","main","Section","section","Message","p","_ref","params","filteredAdverts","setFilteredAdverts","limitedAdverts","setLimitedAdverts","skip","setSkip","brand","price","from","to","filteredLength","limitedLength","filter","_ref2","make","toLowerCase","_ref3","rentalPrice","split","join","Number","_ref4","mileage","_ref5","slice","IconKeys","CatalogPage","Object","fromEntries","areFiltersSet","values","some","option","Container","className","Filters","FilteredList"],"sourceRoot":""}