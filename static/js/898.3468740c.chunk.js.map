{"version":3,"file":"static/js/898.3468740c.chunk.js","mappings":"2MAEO,MAAMA,EAAcC,EAAAA,EAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,mGAClBC,IAAA,IAAC,aAAEC,GAAcD,EAAA,OAAMC,EAAe,UAAY,QAAQ,IAChEC,IAAA,IAAC,aAAED,GAAcC,EAAA,OAAMD,EAAe,IAAM,GAAG,IAI/CE,EAAWP,EAAAA,EAAOQ,GAAEC,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,uFAOpBO,EAAgBV,EAAAA,EAAOW,OAAMC,IAAAA,GAAAT,EAAAA,EAAAA,GAAA,oa,yDCL1C,MAsDA,EAtDmBU,KACjB,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAUC,EAAAA,EAAAA,IAAYC,EAAAA,IACtBC,GAAYF,EAAAA,EAAAA,IAAYG,EAAAA,IACxBC,GAAeJ,EAAAA,EAAAA,IAAYK,EAAAA,KAC1BC,IAAgBC,EAAAA,EAAAA,OAChBC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,IAGjCC,EAAAA,EAAAA,YAAU,KACHL,EAAaM,IAAI,UACpBf,GAASgB,EAAAA,EAAAA,GAAa,CAAEL,OAAMM,MAJpB,KAKZ,GACC,CAACjB,EAAUW,EAAMF,KAEpBK,EAAAA,EAAAA,YAAU,KACRd,GAASkB,EAAAA,EAAAA,MAEF,KACLlB,GAASmB,EAAAA,EAAAA,IAAW,IAAI,IAEzB,CAACnB,IAEJ,MAAMoB,EAAcA,KAClBR,EAAQD,EAAO,EAAE,EAGnB,OAAKT,EAAQmB,QAITC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,MAACrC,EAAW,CAAAuC,SAAA,EACVC,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kBAAiBF,SAAC,4BAChCC,EAAAA,EAAAA,KAAChC,EAAQ,CAAA+B,SACNtB,EAAQyB,KAAKC,IACZH,EAAAA,EAAAA,KAACI,EAAAA,EAAI,CAACC,KAAMF,GAAaA,EAAOG,WAIrC7B,EAAQmB,OAASd,IAChBkB,EAAAA,EAAAA,KAAAF,EAAAA,SAAA,CAAAC,SACGnB,GACCoB,EAAAA,EAAAA,KAACO,EAAAA,EAAM,CAACC,QAAQ,aAAaC,KAAM,MAEnCT,EAAAA,EAAAA,KAAC7B,EAAa,CAACuC,QAASf,EAAYI,SAAC,oBAjBxCC,EAAAA,EAAAA,KAACO,EAAAA,EAAM,CAACC,QAAQ,iBAAiBC,KAAM,IAuBhD,E,iBC3DK,MAAME,EAAOlD,EAAAA,EAAOmD,KAAIjD,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,4CAIlBiD,EAAUpD,EAAAA,EAAOqD,QAAO5C,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,8BCwDrC,EArDqBmD,KACnB,IAAItC,GAAUC,EAAAA,EAAAA,IAAYC,EAAAA,IAC1B,MAAMC,GAAYF,EAAAA,EAAAA,IAAYG,EAAAA,IACxBC,GAAeJ,EAAAA,EAAAA,IAAYK,EAAAA,KAC1BG,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,GAC3Bb,GAAWC,EAAAA,EAAAA,MACXwC,GAAQtC,EAAAA,EAAAA,IAAYuC,EAAAA,IAAYD,OAEtC3B,EAAAA,EAAAA,YAAU,KACRd,GAASgB,EAAAA,EAAAA,GAAa,CAAC,IAEhB,KACLhB,GAASmB,EAAAA,EAAAA,IAAW,IAAI,IAEzB,CAACnB,IAEJ,MAAMoB,EAAcA,KAClBR,EAAQD,EAAO,EAAE,EASnB,OAFAT,EAHSA,EAAQyC,QAAOrD,IAAA,IAAC,KAAEsD,GAAMtD,EAAA,OAAKsD,EAAKC,gBAAkBJ,EAAMI,aAAa,IAK3E3C,EAAQmB,QAITC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,MAACrC,EAAW,CAAAuC,SAAA,EACVC,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kBAAiBF,SAAC,4BAChCC,EAAAA,EAAAA,KAAChC,EAAQ,CAAA+B,SACNtB,EAAQyB,KAAKC,IACZH,EAAAA,EAAAA,KAACI,EAAAA,EAAI,CAACC,KAAMF,GAAaA,EAAOG,WAIrC7B,EAAQmB,OAASd,IAChBkB,EAAAA,EAAAA,KAAAF,EAAAA,SAAA,CAAAC,SACGnB,GACCoB,EAAAA,EAAAA,KAACO,EAAAA,EAAM,CAACC,QAAQ,aAAaC,KAAM,MAEnCT,EAAAA,EAAAA,KAAC7B,EAAa,CAACuC,QAASf,EAAYI,SAAC,oBAjBxCC,EAAAA,EAAAA,KAACO,EAAAA,EAAM,CAACC,QAAQ,iBAAiBC,KAAM,IAuBhD,E,aCnDF,MAgBA,EAhBoBY,KAClB,MAAMC,GAAU5C,EAAAA,EAAAA,IAAYuC,EAAAA,IACtBM,EAAeC,OAAOC,OAAOH,GAASI,MAAMC,GAAWA,IAE7D,OACE3B,EAAAA,EAAAA,KAACW,EAAI,CAAAZ,UACHC,EAAAA,EAAAA,KAACa,EAAO,CAAAd,UACNF,EAAAA,EAAAA,MAAC+B,EAAAA,EAAS,CAAA7B,SAAA,EACRC,EAAAA,EAAAA,KAAC6B,EAAAA,EAAO,IACNN,GAAgCvB,EAAAA,EAAAA,KAACe,EAAY,KAA9Bf,EAAAA,EAAAA,KAAC1B,EAAU,UAG3B,C","sources":["components/catalog/advertList/advertList.styled.js","components/catalog/advertList/AdvertList.js","views/catalog/catalogPage.styled.js","components/catalog/filteredList/FilteredList.js","views/catalog/CatalogPage.js"],"sourcesContent":["import styled from \"@emotion/styled\";\r\n\r\nexport const ListSection = styled.div`\r\n  /* visibility: ${({ areAllLoaded }) => (areAllLoaded ? \"visible\" : \"hidden\")};\r\n  opacity: ${({ areAllLoaded }) => (areAllLoaded ? \"1\" : \"0\")}; */\r\n  transition: visibility 0.3s, opacity 0.3s;\r\n`;\r\n\r\nexport const CardList = styled.ul`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 29px;\r\n  align-items: stretch;\r\n`;\r\n\r\nexport const BtnPagination = styled.button`\r\n  width: 210px;\r\n  height: 48px;\r\n\r\n  display: block;\r\n  margin: 0 auto;\r\n  margin-top: 50px;\r\n\r\n  font-size: 16px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  line-height: 24px;\r\n  color: var(--clr-brand);\r\n\r\n  background: transparent;\r\n  border: 2px solid transparent;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  transition: border-color 0.3s;\r\n\r\n  &:hover {\r\n    border-color: var(--clr-brand);\r\n  }\r\n`;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAdverts, getGeneralCount, getIsLoading } from \"../../../redux/selectors\";\r\nimport Card from \"../../common/card/Card\";\r\nimport { ListSection, CardList, BtnPagination } from \"./advertList.styled\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { setAdverts } from \"../../../redux/slices/advertSlice\";\r\nimport { fetchAdverts, getAdvertCount } from \"../../../redux/operations\";\r\nimport Loader from \"../../common/loader/Loader\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\n\r\nconst AdvertList = () => {\r\n  const dispatch = useDispatch();\r\n  const adverts = useSelector(getAdverts);\r\n  const isLoading = useSelector(getIsLoading);\r\n  const generalCount = useSelector(getGeneralCount);\r\n  const [searchParams] = useSearchParams();\r\n  const [page, setPage] = useState(1);\r\n  const limit = 12;\r\n\r\n  useEffect(() => {\r\n    if (!searchParams.get(\"brand\")) {\r\n      dispatch(fetchAdverts({ page, limit }));\r\n    }\r\n  }, [dispatch, page, searchParams]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getAdvertCount());\r\n\r\n    return () => {\r\n      dispatch(setAdverts([]));\r\n    };\r\n  }, [dispatch]);\r\n\r\n  const handleClick = () => {\r\n    setPage(page + 1);\r\n  };\r\n\r\n  if (!adverts.length) {\r\n    return <Loader variant=\"initialization\" size={90} />;\r\n  } else {\r\n    return (\r\n      <>\r\n        <ListSection>\r\n          <h2 className=\"visually-hidden\">Car advertisement list</h2>\r\n          <CardList>\r\n            {adverts.map((advert) => (\r\n              <Card item={advert} key={advert.id} />\r\n            ))}\r\n          </CardList>\r\n        </ListSection>\r\n        {adverts.length < generalCount && (\r\n          <>\r\n            {isLoading ? (\r\n              <Loader variant=\"pagination\" size={90} />\r\n            ) : (\r\n              <BtnPagination onClick={handleClick}>Load more</BtnPagination>\r\n            )}\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default AdvertList;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Main = styled.main`\r\n  min-height: calc(100% - 92px);\r\n`;\r\n\r\nexport const Section = styled.section`\r\n  padding: 50px 0;\r\n`;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAdverts, getFilters, getGeneralCount, getIsLoading } from \"../../../redux/selectors\";\r\nimport Card from \"../../common/card/Card\";\r\nimport { ListSection, CardList, BtnPagination } from \"../advertList/advertList.styled\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { setAdverts } from \"../../../redux/slices/advertSlice\";\r\nimport { fetchAdverts } from \"../../../redux/operations\";\r\nimport Loader from \"../../common/loader/Loader\";\r\n\r\nconst FilteredList = () => {\r\n  let adverts = useSelector(getAdverts);\r\n  const isLoading = useSelector(getIsLoading);\r\n  const generalCount = useSelector(getGeneralCount);\r\n  const [page, setPage] = useState(1);\r\n  const dispatch = useDispatch();\r\n  const brand = useSelector(getFilters).brand;\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchAdverts({}));\r\n\r\n    return () => {\r\n      dispatch(setAdverts([]));\r\n    };\r\n  }, [dispatch]);\r\n\r\n  const handleClick = () => {\r\n    setPage(page + 1);\r\n  };\r\n\r\n  const filterAdverts = () => {\r\n    return adverts.filter(({ make }) => make.toLowerCase() === brand.toLowerCase());\r\n  };\r\n\r\n  adverts = filterAdverts();\r\n\r\n  if (!adverts.length) {\r\n    return <Loader variant=\"initialization\" size={90} />;\r\n  } else {\r\n    return (\r\n      <>\r\n        <ListSection>\r\n          <h2 className=\"visually-hidden\">Car advertisement list</h2>\r\n          <CardList>\r\n            {adverts.map((advert) => (\r\n              <Card item={advert} key={advert.id} />\r\n            ))}\r\n          </CardList>\r\n        </ListSection>\r\n        {adverts.length < generalCount && (\r\n          <>\r\n            {isLoading ? (\r\n              <Loader variant=\"pagination\" size={90} />\r\n            ) : (\r\n              <BtnPagination onClick={handleClick}>Load more</BtnPagination>\r\n            )}\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default FilteredList;\r\n","import { useSelector } from \"react-redux\";\r\nimport AdvertList from \"../../components/catalog/advertList/AdvertList\";\r\nimport Filters from \"../../components/common/filters/Filters\";\r\nimport { getFilters } from \"../../redux/selectors\";\r\nimport { Main, Section } from \"./catalogPage.styled\";\r\nimport FilteredList from \"../../components/catalog/filteredList/FilteredList\";\r\nimport Container from \"../../components/common/container/Container\";\r\n\r\nconst CatalogPage = () => {\r\n  const filters = useSelector(getFilters);\r\n  const isFiltersSet = Object.values(filters).some((option) => option);\r\n\r\n  return (\r\n    <Main>\r\n      <Section>\r\n        <Container>\r\n          <Filters />\r\n          {!isFiltersSet ? <AdvertList /> : <FilteredList />}\r\n        </Container>\r\n      </Section>\r\n    </Main>\r\n  );\r\n};\r\n\r\nexport default CatalogPage;\r\n"],"names":["ListSection","styled","div","_templateObject","_taggedTemplateLiteral","_ref","areAllLoaded","_ref2","CardList","ul","_templateObject2","BtnPagination","button","_templateObject3","AdvertList","dispatch","useDispatch","adverts","useSelector","getAdverts","isLoading","getIsLoading","generalCount","getGeneralCount","searchParams","useSearchParams","page","setPage","useState","useEffect","get","fetchAdverts","limit","getAdvertCount","setAdverts","handleClick","length","_jsxs","_Fragment","children","_jsx","className","map","advert","Card","item","id","Loader","variant","size","onClick","Main","main","Section","section","FilteredList","brand","getFilters","filter","make","toLowerCase","CatalogPage","filters","isFiltersSet","Object","values","some","option","Container","Filters"],"sourceRoot":""}