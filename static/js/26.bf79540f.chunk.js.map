{"version":3,"file":"static/js/26.bf79540f.chunk.js","mappings":"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","sources":["components/favorites/favoriteList/favoriteList.styled.js","components/favorites/favoriteList/FavoriteList.js","views/favorites/favoritePage.styled.js","views/favorites/FavoritesPage.js"],"sourcesContent":["import styled from \"@emotion/styled\";\r\n\r\nexport const CardList = styled.ul`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 29px;\r\n`;\r\n\r\nexport const Message = styled.p`\r\n  ${({ areFavoriteAdsSet }) =>\r\n    areFavoriteAdsSet ? `min-height: calc(100vh - 420px);` : `height: calc(100vh - 193.6px);`}\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 20px;\r\n\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  line-height: 24px;\r\n  text-align: center;\r\n  color: var(--clr-favorites-message);\r\n\r\n  & > svg {\r\n    fill: currentColor;\r\n    width: 200px;\r\n    height: 200px;\r\n  }\r\n`;\r\n\r\nexport const BtnPagination = styled.button`\r\n  width: 210px;\r\n  height: 48px;\r\n\r\n  display: block;\r\n  margin: 0 auto;\r\n  margin-top: 50px;\r\n\r\n  font-size: 16px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  line-height: 24px;\r\n  color: var(--clr-primary);\r\n\r\n  background: transparent;\r\n  border: 2px solid var(--clr-primary);\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  transition: border-color 0.3s, color 0.3s;\r\n\r\n  &:hover {\r\n    border-color: var(--clr-brand);\r\n    color: var(--clr-brand);\r\n  }\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getFavoriteAdverts, getFavorites, getIsFavoritesLoading } from \"../../../redux/selectors\";\r\nimport Card from \"../../common/card/Card\";\r\nimport { BtnPagination, CardList, Message } from \"./favoriteList.styled\";\r\nimport { fetchAdvertsAll } from \"../../../redux/operations\";\r\nimport Loader from \"../../common/loader/Loader\";\r\nimport IconKeys from \"../../common/icons/IconKeys\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport { setFavorites } from \"../../../redux/slices/favoriteSlice\";\r\n\r\nconst FavoriteList = () => {\r\n  const dispatch = useDispatch();\r\n  const favorites = useSelector(getFavorites);\r\n  const adverts = useSelector(getFavoriteAdverts);\r\n  const isLoading = useSelector(getIsFavoritesLoading);\r\n  const [favoriteAdverts, setFavoriteAdverts] = useState([]);\r\n  const [filteredAdverts, setFilteredAdverts] = useState([]);\r\n  const [limitedAdverts, setLimitedAdverts] = useState([]);\r\n  const LIMIT = 12;\r\n  const [skip, setSkip] = useState(LIMIT);\r\n  const [searchParams] = useSearchParams();\r\n  const params = Object.fromEntries(searchParams);\r\n  const areFiltersSet = Object.values(params).some((option) => option);\r\n  const { brand, price, from, to } = params;\r\n  const [isAdvertsFound, setIsAdvertsFound] = useState(true);\r\n  const [areFavoriteAdsSet, setAreFavoriteAdsSet] = useState(true);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchAdvertsAll());\r\n\r\n    return () => {\r\n      dispatch(setFavorites([]));\r\n    };\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    setFavoriteAdverts(adverts.filter((advert) => favorites.includes(advert.id)));\r\n    if (favorites.length) {\r\n      setAreFavoriteAdsSet(true);\r\n    } else {\r\n      setAreFavoriteAdsSet(false);\r\n    }\r\n  }, [favorites, adverts]);\r\n\r\n  useEffect(() => {\r\n    const filterAdverts = () => {\r\n      return favoriteAdverts\r\n        .filter(({ make }) => !brand || make.toLowerCase() === brand.toLowerCase())\r\n        .filter(({ rentalPrice }) => !price || rentalPrice.split(\"$\").join(\"\") <= Number(price))\r\n        .filter(({ mileage }) => !from || mileage >= Number(from))\r\n        .filter(({ mileage }) => !to || mileage <= Number(to));\r\n    };\r\n\r\n    setFilteredAdverts(filterAdverts());\r\n    setSkip(LIMIT);\r\n  }, [favoriteAdverts, brand, price, from, to]);\r\n\r\n  useEffect(() => {\r\n    if (!areFiltersSet) {\r\n      setLimitedAdverts(favoriteAdverts.slice(0, skip));\r\n    } else {\r\n      setLimitedAdverts(filteredAdverts.slice(0, skip));\r\n    }\r\n  }, [favoriteAdverts, filteredAdverts, skip, areFiltersSet]);\r\n\r\n  useEffect(() => {\r\n    if (!limitedAdverts.length) {\r\n      setTimeout(() => {\r\n        setIsAdvertsFound(false);\r\n      }, 300);\r\n    }\r\n  }, [limitedAdverts]);\r\n\r\n  const handleClick = () => {\r\n    setSkip(skip + LIMIT);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {Boolean(limitedAdverts.length) && (\r\n        <>\r\n          <CardList>\r\n            {limitedAdverts.map((item) => (\r\n              <Card item={item} key={item.id} />\r\n            ))}\r\n          </CardList>\r\n        </>\r\n      )}\r\n\r\n      {!areFiltersSet &&\r\n        favoriteAdverts.length > LIMIT &&\r\n        limitedAdverts.length < favoriteAdverts.length &&\r\n        Boolean(limitedAdverts.length) && (\r\n          <BtnPagination onClick={handleClick}>Load more</BtnPagination>\r\n        )}\r\n\r\n      {areFiltersSet &&\r\n        favoriteAdverts.length > LIMIT &&\r\n        limitedAdverts.length < favoriteAdverts.length &&\r\n        limitedAdverts.length === LIMIT && (\r\n          <BtnPagination onClick={handleClick}>Load more</BtnPagination>\r\n        )}\r\n\r\n      {Boolean(!isLoading && !limitedAdverts.length && !isAdvertsFound) && (\r\n        <Message areFavoriteAdsSet={areFavoriteAdsSet}>\r\n          <IconKeys />\r\n          Sorry, there are no favorite adverts or matches for your request :(\r\n        </Message>\r\n      )}\r\n\r\n      {isLoading && !limitedAdverts.length && (\r\n        <Loader variant=\"favorites\" size={90} isFiltersShown={favorites.length} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FavoriteList;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Main = styled.main`\r\n  position: relative;\r\n  min-height: calc(100vh - 93.6px);\r\n`;\r\n\r\nexport const Section = styled.section`\r\n  padding: 50px 0;\r\n`;\r\n","import { useSelector } from \"react-redux\";\r\nimport Container from \"../../components/common/container/Container\";\r\nimport Filters from \"../../components/common/filters/Filters\";\r\nimport FavoriteList from \"../../components/favorites/favoriteList/FavoriteList\";\r\nimport { Main, Section } from \"./favoritePage.styled\";\r\nimport { getFavorites } from \"../../redux/selectors\";\r\n\r\nconst FavoritesPage = () => {\r\n  const favorites = useSelector(getFavorites);\r\n  return (\r\n    <Main>\r\n      <Section>\r\n        <Container>\r\n          {Boolean(favorites.length) && <Filters />}\r\n          <FavoriteList />\r\n        </Container>\r\n      </Section>\r\n    </Main>\r\n  );\r\n};\r\n\r\nexport default FavoritesPage;\r\n"],"names":["CardList","styled","ul","_templateObject","_taggedTemplateLiteral","Message","p","_templateObject2","_ref","areFavoriteAdsSet","BtnPagination","button","_templateObject3","FavoriteList","dispatch","useDispatch","favorites","useSelector","getFavorites","adverts","getFavoriteAdverts","isLoading","getIsFavoritesLoading","favoriteAdverts","setFavoriteAdverts","useState","filteredAdverts","setFilteredAdverts","limitedAdverts","setLimitedAdverts","LIMIT","skip","setSkip","searchParams","useSearchParams","params","Object","fromEntries","areFiltersSet","values","some","option","brand","price","from","to","isAdvertsFound","setIsAdvertsFound","setAreFavoriteAdsSet","useEffect","fetchAdvertsAll","setFavorites","filter","advert","includes","id","length","make","toLowerCase","_ref2","rentalPrice","split","join","Number","_ref3","mileage","_ref4","slice","setTimeout","handleClick","_jsxs","_Fragment","children","Boolean","_jsx","map","item","Card","onClick","IconKeys","Loader","variant","size","isFiltersShown","Main","main","Section","section","FavoritesPage","Container","Filters"],"sourceRoot":""}